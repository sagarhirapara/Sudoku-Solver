<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
   
    <style>
      .main {
        width: 100%;
        height: 100vh;
        display:flex;
        align-items: center;
        justify-content: center;
      }
      .main-container{
        border:2px solid black;
      }
      .box{
        border:0px solid black;
        margin:3px;
      }
      .sub-box{
        position:relative;
        width: 30px;
        height:30px;
        margin:1px;
        border:0.8px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      input[type= "number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button{
        appearance: none;
      }

      .num{
        position: absolute;
        width:100%;
        height:100%;
        outline: none;
        border:none;
        text-align: center;
      }
      .valid{
        display: none;
      }
      .not-valid{
        display: none;
      }
      .not-sudoku{
        display: none;
      }
    </style>
  </head>
  <body>
    <script>
         function abc(e){
        console.log(e.value);
        if (!e.value){

        }
        else if(e.value<=0 || e.value >9){
            alert("Only 1 to 9 are allowed");
            e.value = "";
        }
}
    </script>
   
    <div class="main">
      <div class="contaner">
        <form action="" onsubmit="submitForm(this)">
            <div class="alert alert-success valid" role="alert">
                valid sudoku click solve.
              </div>
              <div class="alert alert-danger not-valid" role="alert">
                Sudoku is not valid!!!
              </div>

              <div class="alert alert-danger not-sudoku" role="alert">
                Sudoku Not Exist for this.
              </div>
        <div class=" main-container">
            
            <div class="rows d-flex">
                <div class="box1 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "11" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "12" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "13" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "21" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "22" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "23" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "31" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "32" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "33" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box2 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "14" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "15" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "16" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "24" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "25" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "26" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "34" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "35" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "36" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box3 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "17" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "18" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "19" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "27" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "28" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "29" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "37" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "38" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "39" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="rows d-flex">
                <div class="box1 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "41" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "42" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "43" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "51" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "52" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "53" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "61" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "62" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "63" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box2 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "44" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "45" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "46" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "54" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "55" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "56" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "64" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "65" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "66" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box3 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "47" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "48" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "49" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "57" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "58" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "59" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "67" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "68" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "69" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
            </div>

            <div class="rows d-flex">
                <div class="box1 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "71" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "72" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "73" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "81" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "82" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "83" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "91" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "92" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "93" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box2 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "74" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "75" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "76" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "84" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "85" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "86" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "94" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "95" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "96" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
                <div class="box3 box d-flex flex-column">
                    <div class="row1 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "77" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "78" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "79" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "87" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "88" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "89" class="num" onkeyup="abc(this)">
                        </div>
                    </div>

                    <div class="row2 d-flex">
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "97" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "98" class="num" onkeyup="abc(this)">
                        </div>
                        <div class="sub-box-1 sub-box">
                            <input type="number" id = "99" class="num" onkeyup="abc(this)">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="final d-flex justify-content-center">

            <button type="submit" class="btn btn-warning btn-sm mt-3 mx-2 check" onclick="cilck(event)">Validate</button>
            <button type="button" class="btn btn-success btn-sm mt-3 solve" onclick="solve(event)" disabled>SOLVE</button>
            <button type="button" class="btn btn-success btn-sm mt-3 solve mx-2" onclick="reset(event)">Reset</button>
        </div>
    </form>
      </div>
        
    </div>
    <script>
        function reset(event){
            Location.reload();
        }
        function submitForm(form){
            console.log("hello sudoku");
            form.preventDefault();
            
        }
        let matrix;
        let flag;
        function cilck(e){
            flag = true;
            e.preventDefault();

            var valid = document.querySelector(".valid");
            valid.style.display = "none";

            var notValid = document.querySelector(".not-valid");
            notValid.style.display = "none";

            var notSudoku = document.querySelector(".not-sudoku");
                notSudoku.style.display = "none";

            matrix = []
            for(var i=0;i<9;i++){
                var temp = []
                for(var j=0;j<9;j++){
                    var id = String(i+1) + String(j+1);
                    var num = document.getElementById(id);
                    if(num.value>=1 && num.value <10){
                        temp.push(Number(num.value));
                    }
                    else{
                        temp.push(-1);
                    }
                    
                }
                matrix.push(temp);
            }
            console.log(matrix);

            for(var i=0;i<9;i++){
                for(var j=0;j<9;j++){
                    if(matrix[i][j] != -1){
                        if((rowCheck(matrix,i,j) && colCheck(matrix,i,j)) && boxCheck(matrix,i,j)){
                            console.log("ready");
                        }else{
                            flag = false;
                            break;
                        }      
                    }
                    
                }
                if(!flag){
                    break;
                }
            }
            console.log(flag);
            if(flag){
                var valid = document.querySelector(".valid");
                valid.style.display = "block";
                document.querySelector(".check").disabled = true;
                document.querySelector(".solve").disabled = false;

            }
            else{
                var notValid = document.querySelector(".not-valid");
                notValid.style.display = "block";
            }

            function rowCheck(matrix,row,col){
                var i = row;
                var j = col;
                for(var t = 0;t<9;t++){
                    if(t == j){
                        continue;
                    }
                    if(matrix[i][t] == -1){
                        continue;
                    }
                    else{
                        if(matrix[i][t] == matrix[i][j]){
                            return false;
                        }
                    }
                }
                return true;
            }

            function colCheck(matrix,row,col){
                var i = row;
                var j = col;
                for(var t = 0;t<9;t++){
                    if(t == i){
                        continue;
                    }
                    if(matrix[t][j] == -1){
                        continue;
                    }
                    else{
                        if(matrix[t][j] == matrix[i][j]){
                            return false;
                        }
                    }
                }
                return true;
            }
            function boxCheck(matrix,row,col){
                var i = Math.floor(row/3)*3;
                var j = Math.floor(col/3)*3;
                console.log(i,j);
                for(var m = i;m<i+3;m++){
                    for(var n = j;n<j+3;n++){
                        if(m == row && n == col){
                            continue;
                        }
                        else if(matrix[m][n] == -1){
                            continue;
                        }
                        else{
                            if(matrix[m][n] == matrix[row][col]){
                                return false;
                            }
                        }
                    }

                }
                return true;


            }

        }

        function solve(event){
            var valid = document.querySelector(".valid");
            valid.style.display = "none";

            var notValid = document.querySelector(".not-valid");
            notValid.style.display = "none";

            var notSudoku = document.querySelector(".not-sudoku");
                notSudoku.style.display = "none";

            console.log("go in the solve");

            function helper(matrix,row,col,number){
                for(var i=0;i<9;i++){
                    if (matrix[row][i] == number){
                        return false;
                    }
                    if(matrix[i][col] == number){
                        return false;
                    }
                }

                var cr = Math.floor(row/3) * 3;
                var cc = Math.floor(col/3) * 3;

                for(var i=cr;i<cr+3;i++){
                    for(var j=cc;j<cc+3;j++){
                        if(matrix[i][j] == number){
                            return false;
                        }
                    }
                }
                return true;
            }
            function solve_sudoku(matrix,row,col){
                if(col== 9){
                    col = 0;
                    row +=1;
                }
                if(row == 9){
                    return true;
                }
                if(matrix[row][col] >0){
                    solve_sudoku(matrix,row,col+1);
                }
                console.log("hii");
                for(var i=1;i<=9;i++){
                    if(helper(matrix,row,col,i)){
                        matrix[row][col] = i;
                        if(solve_sudoku(matrix,row,col+1)){
                            return true;
                        }
                        else{
                            matrix[row][col] = -1;
                        }
                    }
                    
                }

                return false;

            }

            if(solve_sudoku(matrix,0,0)){
                for(var i=1;i<=9;i++){
                    for(var j=1;j<=9;j++){
                        var id = String(i) + String(j);
                        var field = document.getElementById(id);
                        field.value = matrix[i-1][j-1];
                    }
                }

            var valid = document.querySelector(".valid");
            valid.style.display = "none";

            var notValid = document.querySelector(".not-valid");
            notValid.style.display = "none";

            document.querySelector(".check").disabled = false;
            document.querySelector(".solve").disabled = true;
            }
            else{
                notSudoku.style.display = "block";
                document.querySelector(".check").disabled = false;
            document.querySelector(".solve").disabled = true;
            }
        }
        

    </script>
    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
    integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
    integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
    crossorigin="anonymous"
  ></script>
  </body>
</html>
